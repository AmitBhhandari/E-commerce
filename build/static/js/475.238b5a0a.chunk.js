"use strict";(self.webpackChunke_commerce_site=self.webpackChunke_commerce_site||[]).push([[475],{475:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var i=n(885),o=n(791),s=n(880),r=n(786),a="Login_auth__q5w-X",c="Login_control__+Tp37",u="Login_actions__6926A",l="Login_toggle__0idMb",d=n(184),h=function(){var e=(0,o.useRef)(),t=(0,o.useRef)(),n=(0,s.k6)(),h=(0,o.useContext)(r.Z),p=(0,o.useState)(!0),m=(0,i.Z)(p,2),f=m[0],g=m[1],j=(0,o.useState)(!1),_=(0,i.Z)(j,2),w=_[0],x=_[1];return(0,d.jsxs)("section",{className:a,children:[(0,d.jsx)("h1",{children:f?"Login":"Sign Up"}),(0,d.jsxs)("form",{onSubmit:function(i){i.preventDefault();var o,s=e.current.value,r=t.current.value;localStorage.setItem("email",s),x(!0),o=f?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDWHwhZR4c7ubXaQLCG9oMpHbrJdCvJsVY":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDWHwhZR4c7ubXaQLCG9oMpHbrJdCvJsVY",fetch(o,{method:"POST",body:JSON.stringify({email:s,password:r,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return x(!1),e.ok?e.json():e.json().then((function(e){throw new Error("Authentication failed!")}))})).then((function(e){h.login(e.idToken),n.replace("/Store")})).catch((function(e){alert(e.message)}))},children:[(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Your Email"}),(0,d.jsx)("input",{type:"email",id:"email",required:!0,ref:e})]}),(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Your Password"}),(0,d.jsx)("input",{type:"password",id:"password",required:!0,ref:t})]}),(0,d.jsxs)("div",{className:u,children:[!w&&(0,d.jsx)("button",{children:f?"Login":"Create Account"}),w&&(0,d.jsx)("p",{children:"Loading.."}),(0,d.jsx)("button",{type:"button",className:l,onClick:function(){g((function(e){return!e}))},children:f?"Create new account":"Login with existing account"})]})]})]})}}}]);
//# sourceMappingURL=475.238b5a0a.chunk.js.map